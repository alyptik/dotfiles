#!/bin/zsh

# Unset previous function/alias instances
unset -f bfg define defrag fc java wd which 2>/dev/null
unalias {1..9} c f gbr gco gcs gg gm h history java l md o rd ru s sd sf si u v z zz 2>/dev/null

## Custom aliases

alias xbi='xbps-install'
alias xbq='xbps-install'
alias xbr='xbps-install'
alias p='print'
alias cdg='pushd "${C:-/store/dotfiles}" >/dev/null'
alias cdp='pushd "${P:-/store/code/projects}" >/dev/null'
# silence 'Picked up _JAVA_OPTIONS' message on command line
_SILENT_JAVA_OPTIONS="$_JAVA_OPTIONS"
unset _JAVA_OPTIONS
alias java='java "$_SILENT_JAVA_OPTIONS"'
alias sb='scan-build'
alias vg='valgrind'
alias ip='ip -c'
alias rline=$'python -c \'import os; import random; os.system("vim %s +%s" % (lambda f: (f, random.randint(1,len(open(f).readlines())+1)))(random.choice([f for f in sum([[os.path.join(p, f) for f in fs] for (p, ds, fs) in os.walk(".")], []) if not ".git" in f])))\''
alias rng='ranger'
alias i686-qemu='qemu-system-i386 -m 2048 -smp 2 -vga virtio -boot order=d -enable-kvm -machine type=pc,accel=kvm -show-cursor -usbdevice tablet -cpu host,hv_relaxed,hv_spinlocks=0x1fff,hv_vapic,hv_time -soundhw hda -net nic -net bridge,br=virbr0 -monitor stdio -monitor pty'
alias sw='wine "${HOME}/.local/share/steam-wine/WINE.win32/drive_c/Program Files/Steam/Steam.exe" -no-cef-sandbox -no-dwrite'
alias rman=$'zsh -c \'man "$(<<<${(F@)${(f@)$(print -l /usr/share/man/man{2,3}/*.[0-9].gz):t}/.[0-9].gz/} shuf -n1)"\''
alias bar='bsdtar'
alias ty='type'
alias whe='whence'
alias wh='which'
alias pcc='gcc -o /dev/stdout'
alias pre='PREFIX=${HOME}/.local'
alias ldrun='/lib/ld-linux-x86-64.so.2'
alias ldrun32='/lib/ld-linux.so.2'
alias pt='ptpython'
alias pt2='ptpython2'
alias bpy='bpython'
alias bpy2='bpython2'
alias ipy='ipython'
alias ipy2='ipython2'
alias ampv='noglob mpv --no-video --load-unsafe-playlists --ytdl-format=bestaudio/best'
alias edd='ed -p\*'
alias ec='/usr/lib/eclipse/eclim'
alias ecd='/usr/lib/eclipse/eclimd'
alias vd='vimdiff'
alias hilites='tail -Fs 10 --pid="$(pidof weechat)" "${HOME}/.weechat/pipe" | dzen2 -sa c -w 2175 -dock -fn "xft:FuraCode Nerd Font-Light:pixelsize=20"'
alias bkey='bindkey | highlight --out-format="truecolor" --syntax="conf" --style=anotherdark | less -JRMXs'
alias bool='printf "%b\n" "\n$(tput setaf 10)¬ / ~ / !\t$(tput setaf 11)|$(tput setaf 9)\t\tNOT$(tput sgr0)" "$(tput setaf 10)∧\t\t$(tput setaf 11)|$(tput setaf 9)\t\tAND$(tput sgr0)" "$(tput setaf 10)∨\t\t$(tput setaf 11)|$(tput setaf 9)\t\tOR$(tput sgr0)" "$(tput setaf 10)⊕\t\t$(tput setaf 11)|$(tput setaf 9)\t\tXOR$(tput sgr0)" "$(tput setaf 10)∈\t\t$(tput setaf 11)|$(tput setaf 9)\t\tIN$(tput sgr0)" "$(tput setaf 10)→ / ⇒ / ⊃\t$(tput setaf 11)|$(tput setaf 9)\t\tIF$(tput sgr0)" "$(tput setaf 10)↔ / ⇔ / ≡\t$(tput setaf 11)|$(tput setaf 9)\t\tIF AND ONLY IF$(tput sgr0)" "$(tput setaf 10)∃\t\t$(tput setaf 11)|$(tput setaf 9)\t\tAT LEAST ONE$(tput sgr0)" "$(tput setaf 10)∃!\t\t$(tput setaf 11)|$(tput setaf 9)\t\tEXACTLY ONE$(tput sgr0)" "$(tput setaf 10)∀\t\t$(tput setaf 11)|$(tput setaf 9)\t\tFOR ALL$(tput sgr0)" "$(tput setaf 10)≔ / ≡\t\t$(tput setaf 11)|$(tput setaf 9)\t\tDEFINED AS$(tput sgr0)" "$(tput setaf 10)⊤\t\t$(tput setaf 11)|$(tput setaf 9)\t\tTAUTAULOGY$(tput sgr0)" "$(tput setaf 10)⊥\t\t$(tput setaf 11)|$(tput setaf 9)\t\tCONTRADICTION$(tput sgr0)" "$(tput setaf 10)⊢\t\t$(tput setaf 11)|$(tput setaf 9)\t\tPROVABLE FROM$(tput sgr0)" "$(tput setaf 10)⊨\t\t$(tput setaf 11)|$(tput setaf 9)\t\tENTAILS$(tput sgr0)" "$(tput setaf 10):⇔\t\t$(tput setaf 11)|$(tput setaf 9)\t\tLOGICALLY EQUVALENT EVERYWHERE$(tput sgr0)" && echo && printf "%s" "¬ / ~ / ! | ∧ | ∨ | ⊕ | ∈ | → / ⇒ / ⊃ | ↔ / ⇔ | ∃ | ∃ | ∀ | ≔ / ≡ | ⊤ | ⊥ | ⊢ | ⊨ | :⇔ " | tee >(xsel -ib) && echo'
alias xsi='xsel -ip'
alias xso='xclip -o'
alias md='abricotine'
alias jp='jump'
alias bm='bookmark'
alias sm='showmarks'
alias dm='deletemark'
alias ct='killall compton >/dev/null 2>/dev/null && compton -b || compton -b'
alias kc='killall compton'
# alias b='chromium'
alias open_command='xdg-open'
alias fort='fortune'
alias pe='noglob perl -pe'
## quick opening files with xdg-open
alias x='a -e xdg-open'
## quick opening files with mpv
alias m='f -e mpv'
alias fpass='lpass show -c --password $(lpass ls | fzf | awk "{print \$(NF)}" | sed "s/\]//g")'
alias t='transmission-remote'
alias rs='rsync -avP --info=progress2'
alias rorphans='pacman -Qdtq | paste -sd" " | tee >(perl -pe "chomp if eof" | xsel -ib) /dev/stderr | sudo pacman -Rs -'
alias skvm='spicy --uri="spice+unix:///tmp/vm_spice.socket"'
# alias high='highlight --out-format=truecolor --style=anotherdark'
alias k='kill'
alias ka='killall'
alias pk='pkill'
alias es='espeak -s200 -p70 -ven+f5'
alias socks='ssh -D 8888 -NC'
alias nctl='networkctl'
alias curl='curl'
alias permcase=$'perl -pe \'my $result = $_ =~ s/([a-z])/sprintf "{%s,%s}", uc($1), lc($1)/iegr; print $result . "\n"; print $_ . " " for glob $result\''
## use perl like awk/sed
alias ple='perl -wlne'
alias vman='PAGER=vimpager man'
alias mnh='printf "%s" "mnh:/home/mnrmnaugh/" | tee >(xsel -ib)'
alias it='indent -st -bad -bap -sc -bl -bli0 -ncdw -nce -cli0 -cbi0 -pcs -cs -npsl -bs -nbc -bls -blf -lp -i2 -ts2 -nut -l1024 -nbbo -fca -lc1024 -fc1'
alias mptpb='maim -d 3 /tmp/$$.png && curl -F c=@/tmp/$$.png https://ptpb.pw/ | tee >(perl -ne "(s/url: // && chomp && print) if /url: /" | xsel -ib)'
#alias mptpb='maim -d 3 /tmp/$$.png && curl -F c=@/tmp/$$.png https://0x0.st/ | tee >(sed -n "/url/ s/url: //p" | xi)'
alias ucpan='yes "" | cpan -u'
alias gla='glances --diskio-iops --diskio-show-ramfs -1 -6 --fs-free-space --enable-history'
alias font='fc-list'
alias tm='termite'
alias pu='pushd'
alias po='popd'
alias di='dirs'
alias ctype='file -LbL --mime-type'
alias g-npm='npm -g'
alias r-move='rsync -avP --remove-source-files --info=progress2'
alias k-pdf='k2pdfopt -bpc 1 -dev kp2 -x'
alias g='git'
alias vp='vimpager -s -N'
# alias rmdir='rmdir --ignore-fail-on-non-empty'
alias pd='perldoc'
alias vpd='PERLDOC_PAGER=vimpager perldoc'
#alias excuse='curl -H "User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.89 Safari/537.36" -s http://programmingexcuses.com/ | awk -F ">" "/a href/ {print substr(\$3,1,length(\$3)-3)}"'
alias excuse='curl -s http://programmingexcuses.com/ | awk -F ">" "/a href/ {print substr(\$3,1,length(\$3)-3)}"'
alias e-pump='eval $(pump --startup) && . ~/.aliases && . ~/.zsh.d/.zshenv'
alias r-certs='certbot --standalone certonly -d alyp.tk -d cube.alyp.tk -d mail.alyp.tk -d fsckingfu.tk -d cube.fsckingfu.tk -d mail.fsckingfu.tk -d ohfu.tk -d ohfu.tk -d cube.ohfu.tk -d mail.ohfu.tk'
alias nb='newsbeuter -r'
alias uniq-sed="sed 'h;:b;$ b;N;/^\(.*\)\n\1$/{g;bb};$ b;P;D'"
alias uniqu-sed="sed '$ b;N;/^\(.*\)\n\1$/!{P;D;};:c;$ d;s/.*\n//;N;/^\(.*\)\n\1$/{bc;};D'"
alias fzero='find . -size 0'
alias objd='objdump -Mintel,i8086 -D'
alias cg='cgasm'
# alias cg='grep --color=always'
alias ngcc="gcc -v -E -x c -march=native - < /dev/null 2>&1 | grep cc1 | perl -pe 's/ -mno-\S+//g; s/^.* - //g;'"
#alias ngcc="gcc -v -E -x c -march=native -mtune=native - </dev/null|&grep cc1|perl -pe 's/ -mno-\S+//g; s/^.* - //g;'"
alias dperl='perl -MO=Deparse'
alias xperl='PERLDB_OPTS="NonStop=1 AutoTrace=1 frame=2" perl -dS'
alias rbinit='eval "$(rbenv init -)"'
#alias rwget='wget --mirror --convert-links --adjust-extension --page-requisites --no-parent'
alias awget='wget -mkEpnp -e robots=off'
alias rwget='wget -mkEpnp -nd -nH -e robots=off --reject "index.html*"'
alias s-t='/usr/bin/chromium "127.0.0.1:8384"'
alias compose='less -R ${HOME}/.XCompose'
alias lcompose='less -R "/usr/share/X11/locale/$(grep --max-count=1 "${LANG%.*}.UTF-8\$" /usr/share/X11/locale/locale.dir | cut --delimiter=/ --fields 1)/Compose"'
#alias endiantest='echo -n i | od -to2 | awk "{ if(substr(\$2,6,1)){exit 1;} }" && echo "big" || echo "little"'
alias endiantest='echo "I" | od -to2 | head -n1 | cut -f2 -d" " | cut -c6 | tr "10" "LB"'
alias ntag='git tag -s -m "$(date +%a %d %b %I:%M:%S%P %Z %Y-%m-%d)"'
alias tag='(set -o pipefail && git describe --long 2>/dev/null | sed "s/\([^-]*-g\)/r\1/;s/-/./g;s/^[A-Za-z]*\.//" || printf "r%s.%s\n" "$(git rev-list --count HEAD)" "$(git rev-parse --short HEAD)") 2>/dev/null | awk "NR>1{print PREV} {PREV=\$0} END{printf(\"%s\",\$0)}" | sed "/^r\.$/d;s/^[A-Za-z]*\.//" | tee >(xclip -i -selection clipboard) >&2 | grep -q "."'
#alias tag='printf "r%s.%s" "$(git rev-list --count HEAD)" "$(git rev-parse --short HEAD)" | tee >(xclip -i -selection clipboard)'
#alias atag="git describe --long | sed 's/\([^-]*-g\)/r\1/;s/-/./g' | tee >(xclip -i -selection clipboard)"
#alias utag="git describe --long --tags | sed 's/\([^-]*-g\)/r\1/;s/-/./g' | tee >(xclip -i -selection clipboard)"
alias gdebug='GTK_MODULES=gtkparasite'
alias xh='xhost +si:localuser:"alyptik"'
alias pscons='CC=clang CXX=clang++ pump scons asan=1 asmlib=0 battery=1 buildtime=1 bulk=1 color=1 coreaudio=0 faad=1 ffmpeg=1 hid=1 hss1394=0 ipod=0 localecompare=1 macappstore=0 mad=1 mediafoundation=0 modplug=1 opengles=0 optimize=native opus=1 perftools=1 perftools_profiler=1 profiling=1 qdebug=1 qt_sqlite_plugin=0 shoutcast=1 test=0 vamp=1 verbose=1 vinylcontrol=1 virtualize=0 wv=1 qtdir=/usr/lib/qt4 prefix=/opt/mixxx install_root=/opt/mixxx'
alias rekt='git commit --fixup @ && git rebase -i --autosquash @^^'
alias ru='rustup'
# alias e='vim -p'
alias snc='openssl s_client -connect'
alias slow='pv -qL 10'
alias zspace='printf "\uFEFF" | xsel -ib'
alias zspace2='printf "\u200B" | xsel-ib'
#alias lptpb='printf "\n\033[32m%s\033[0m " "ptpb.pw /* lexers:" && find /usr/lib/python3.5/site-packages/pygments/lexers -maxdepth 1 -execdir echo {} \; | sed "s:^\./::;s:\.py::" | paste -s -d " " && echo'
alias lptpb='gvim -p https://ptpb.pw/l'
alias xi="perl -pe 'chomp if eof' | tee >(xsel -ib)"
# alias xn="perl -pe 's/\n/ /g; s/[[:space:]]+/ /g; END { s/[[:space:]]*$//; chomp; }' | tee >(xsel -ib)"
alias xn="paste -sd' ' | perl -pe 's/[[:space:]]*$//; s/[[:space:]]+/ /g; chomp' | tee >(xsel -ib)"
#alias xo='xsel -bo'
#alias xi="awk 'NR>1{print PREV} {PREV=\$0} END{printf(\"%s\",\$0)}' | xsel -bi"
#alias xi="perl -0 -pe 's/\n\Z//' | xsel -ib"
#alias xi="tr '\n' '☃' | sed -n 's/☃*$//;y/☃/\n/;P' | xsel -bi"
#alias xi="tr $'\n' ';' | sed 's/\;$//' | tr ';' $'\n' | xclip -i -selection clipboard"
#alias xi="tr '\n' '@' | sed 's/@*$//;y/@/\n/' | xclip -i -selection clipboard"
#alias xn="sed ':a;N;$ !ba;s/\n/\; /g;s/\; $//' | xclip -i -selection clipboard"
# alias xn="sed ':a; N; $ !ba; s/\n\n*/\; /g; s/\;[ 	]*\;* /\; /g; s/\; $//; s/\([ 	]\)[ 	]*/\1/g; s/{\; /{ /g' | tee >(xsel -ib)"
#alias tptpb=" curl -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.89 Safari/537.36' --progress-bar -F'c=@-' https://ptpb.pw/\?u=1 | sed 's:$:/text:'"
#alias tptpb="curl -H "User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.89 Safari/537.36" --progress-bar-F'c=@-'https://ptpb.pw/\?u=1 | sed 's:ptpb\.pw/:alyp.tk/pb/:g; s:$:/text:'"
alias tptpb="curl --progress-bar -F'c=@-' https://ptpb.pw/\?u=1 | sed 's:$:/text:'"
alias apb="sed 's:ptpb\.pw/:alyp.tk/pb/:g'"
alias eth0='sudo ip link set eth0 down && sleep 2 && sudo ip link set eth0 up'
alias cdef='compdef _gnu_generic'
alias scpuled='sudo cpuled console -c nfn >/dev/null 2>&1 & disown'
alias mime='xdg-mime'
# alias o='xdg-open'
alias find='find'
alias zmv='zmv -v'
## with ag - respects .agignore and .gitignore
alias fag='ag --nobreak --nonumbers --noheading . | fzf'
alias fgr='grep --line-buffered --color=never -r "" * | fzf'
alias psd="paste -sd' '"
alias py='python'
alias py2='python2'
alias fbc='bc -l /store/scripts/funcs.bc'

alias spump='eval $(pump --startup) && . ${HOME}/.profile && . ${HOME}/.aliases && . ${HOME}/.zshenv'
alias zerospace='printf "\n%s\n%s\n" "In /usr/bin/chromium console:" "copy(String.fromCodePoint(0x200B)) or copy(String.fromCodePoint(0xFEFF))"'
#alias acp='anamnesis'
alias nem='sudo emerge --update --deep --newuse @world && sudo etc-update'
alias gdistccmon='DISTCC_DIR="/var/tmp/portage/.distcc" distccmon-text'
alias myuptime='uptime -p | cut -c 4-'
alias pacawk="grep -v '^$\|^#' /etc/pacman.d/mirrorlist | awk '{print}' | awk -F '/' '{print}'"
alias fem="find /etc -name '._cfg????_*'"
alias showcert='openssl s_client -showcerts -connect'
alias bsrv='sudo tar cvf /store/config/srvbak/$(date +"%Y-%d-%m").tar /srv'
alias bhttpd='sudo tar cvf /store/config/srvbak/httpd-$(date +"%Y-%d-%m").tar /etc/httpd'
alias bnginx='sudo tar cvf /store/config/srvbak/nginx-$(date +"%Y-%d-%m").tar /etc/nginx'
alias em='emerge'
alias ems='emerge -s'
alias eq='equery'
alias pmakepkg='eval $(pump --startup) && . ${HOME}/.profile && makepkg'

alias xrc='vim ${HOME}/.Xresources'
alias prc='vim ${HOME}/.profile'
alias brc='vim ${HOME}/.bashrc'
alias arc='vim ${HOME}/.aliases'
alias vrc='vim ${HOME}/.vimrc'
alias crc='vim ${HOME}/.screenrc'
alias trc='vim ${HOME}/.tmux.conf'

alias zrc='vim ${ZDOTDIR}/.zshrc'
alias erc='vim ${ZDOTDIR}/.zshenv'
alias frc='vim ${ZDOTDIR}/.zwidgets'

alias us='systemctl --user'
alias uscdr='systemctl --user daemon-reload'
alias uscen='systemctl --user enable --now'
alias uscdn='systemctl --user disable --now'
alias uscs='systemctl --user --full --no-pager status'
alias uscf='systemctl --user --failed'
alias uscu='systemctl --user --full list-units'
alias usce='systemctl --user --full edit'
alias uscr='systemctl --user restart'
alias uscc='systemctl --user cat'
alias s='sudo systemctl'
alias scdr='sudo systemctl daemon-reload'
alias scen='sudo systemctl enable --now'
alias scdn='sudo systemctl disable --now'
alias scs='sudo systemctl --full --no-pager status'
alias scf='sudo systemctl --failed'
alias scu='sudo systemctl --full list-units'
alias sce='sudo systemctl --full edit'
alias scr='sudo systemctl restart'
alias scc='sudo systemctl cat'

alias ls='ls --color=auto'
## Long list
alias la='ls -lAhiFtrs --color=auto --time-style=+"%a %d %b %I:%M:%S%P %Z %Y-%m-%d"'
## Recursive
alias lr='ls -lAhiFsR --color=auto --time-style=+"%a %d %b %I:%M:%S%P %Z %Y-%m-%d"'
## Alphabetical
alias lal='ls -lAhiFs --color=auto --time-style=+"%a %d %b %I:%M:%S%P %Z %Y-%m-%d"'
## Date
alias ldt='ls -lAhiFtrs --color=auto --time-style=+"%a %d %b %I:%M:%S%P %Z %Y-%m-%d"'
## Size
alias lsz='ls -lAhiFSrs --color=auto --time-style=+"%a %d %b %I:%M:%S%P %Z %Y-%m-%d"'
## Extension
alias lxt='ls -lAhiFXrs --color=auto --time-style=+"%a %d %b %I:%M:%S%P %Z %Y-%m-%d"'

## Colorize the grep command output for ease of use (good for log files)
alias grep='grep --color=auto'
alias gr='grep --color=auto'
alias egrep='egrep --color=auto'
alias egr='egrep --color=auto'
alias fgrep='fgrep --color=auto'
alias fgr='fgrep --color=auto'
#alias bc='bc -l'
## Generate sha1 digest
alias sha1='openssl sha1'
alias mkdir='mkdir -pv'

## Stop after sending count ECHO_REQUEST packets
alias pong='ping -c 5'
# Do not wait interval 1 second, go fast #
alias fastping='ping -c 100 -s1'
# alias ports='netstat -tulanp'
alias ports='ss -tulanp'

# alias enft='sudo vim -p /etc/nftables.nft'
alias enft='sudo vim /etc/nftables.nft'
alias rnft='sudo nft -f /etc/nftables.nft'
#alias lnft='sudo nft list ruleset -a | less -R'
# alias lnft='vim -p -c "setf nftables" <(sudo nft list ruleset -a)'
alias lnft='vim -c "setf nftables" <(sudo nft list ruleset -a)'

alias start-wmin='sudo /etc/webmin/start'
alias stop-wmin='sudo /etc/webmin/stop'
alias rs-wmin='sudo /etc/webmin/restart'
alias rl-wmin='sudo /etc/webmin/reload'

alias lsinitcpio='ls -lAXh --color=auto /usr/lib/initcpio'
alias cdinitcpio='cd /usr/lib/initcpio'
alias esp-hook='sudo gvim /usr/lib/initcpio/install/esp-update-linux'
#alias lurepos='curl -H "User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.89 Safari/537.36" --progress-bar "https://wiki.archlinux.org/index.php/Unofficial_user_repositories" | grep -B1 "Server = " | sed "s/\$arch/$(uname -m)/g" | cut -f 3 -d" "'
alias lurepos='curl --progress-bar "https://wiki.archlinux.org/index.php/Unofficial_user_repositories" | grep -B1 "Server = " | sed "s/\$arch/$(uname -m)/g" | cut -f 3 -d" "'
alias nmwifi='sudo nmcli dev wifi connect'
alias nmdwifi='sudo nmcli dev wifi disconnect'

alias zs-gen='sudo zonesigner -genkeys -keydirectory /etc/bind/private -usensec3 -dsdir /etc/bind/private -krfile /etc/bind/private/alyp.tk.krf -nosave -zone alyp.tk /etc/bind/db.alyp.tk /etc/bind/db.alyp.tk.signed'
alias zs-sign='sudo zonesigner -dsdir /etc/bind/private -krfile /etc/bind/private/alyp.tk.krf -nosave -zone alyp.tk /etc/bind/db.alyp.tk /etc/bind/db.alyp.tk.signed'

alias zedit='sudo vim /etc/bind/db.alyp.tk'
alias bedit='sudo vim /etc/named.conf'
alias gzedit='sudo gvim /etc/bind/db.alyp.tk'
alias gbedit='sudo gvim /etc/named.conf'
alias arch-ssh='ssh -Y alyptik@alyp.tk -p 222'
alias rarch-ssh='ssh -Y root@@alyp.tk -p 2222'
alias surface-ssh='ssh -Y alyptik@192.168.1.98'
alias rsurface-ssh='ssh -Y root@192.168.1.98'

alias skonq='kdesudo konqueror'
alias tdmesg='dmesg | tail'
alias jctl='journalctl -e'
alias jftrimstatus='journalctl -u fstrim'
alias ftrimstatus='systemctl status fstrim.timer'

#alias newvnc="sudo x11vnc -bg -auth guess -forever -shared -display :0 -autoport -6 -rfbauth /etc/x11vnc.pass -ncache 10 -ncache_cr -ssldir /home/alyptik/certs/vnc -ssl /home/alyptik/certs/vnc/server-vencrypt.pem -vencrypt support:nox509 -anontls support:nox509 -dhparams /home/alyptik/certs/vnc/dh.pem -rmflag /var/run/x11vnc.pid && sudo sed -i '2,$ d; s/^.*$/`ps wwaux | grep x11vnc | awk ' { if ($1=="root") print $2 } ' | paste -s -d ' '`/' /var/run/x11vnc.pid"
#alias newvnc='sudo x11vnc -bg -auth guess -forever -shared -display :0 -autoport -6 -rfbauth /etc/x11vnc.pass -ncache 10 -ncache_cr -ssldir /home/alyptik/certs/vnc -ssl /home/alyptik/certs/vnc/server-vencrypt.pem -vencrypt support:nox509 -anontls support:nox509 -dhparams /home/alyptik/certs/vnc/dh.pem -rmflag /var/run/x11vnc.pid'

alias newvnc='x11vnc -env FD_SDDM=1 -auth /tmp/xauth-1000-_0 -forever -shared -display :0 -autoport -6 -rfbauth /etc/x11vnc.pass -ncache 10 -ncache_cr -ssldir /home/alyptik/certs/vnc -ssl /home/alyptik/certs/vnc/server-vencrypt.pem -vencrypt support:nox509 -anontls support:nox509 -dhparams /home/alyptik/certs/vnc/dh.pem -noxdamage -noxkb -noxfixes -rmflag /tmp/x11vnc-alyptik.pid & disown'
alias sedvnc="sudo sed -i '2,$ d; s/^.*$/$(pgrep x11vnc | paste -s -d " " | awk '{ print $NF }')/' /var/run/x11vnc.pid"
alias killvnc='sudo killall x11vnc'
alias updategrub='sudo grub-mkconfig -o /boot/grub/grub.cfg'
alias efiupdategrub='sudo grub-mkconfig -o /boot/efi/EFI/grub/grub.cfg'

## Shortcut for iptables and pass it via sudo
alias ipt='sudo iptables --line-numbers -vnL'
alias iptin='sudo iptables --line-numbers -vnL INPUT'
alias iptout='sudo iptables --line-numbers -vnL OUTPUT'
alias iptfw='sudo iptables --line-numbers -vnL FORWARD'
alias iptnat='sudo iptables --line-numbers -t nat -vnL'
alias ip6t='sudo ip6tables --line-numbers -vnL'
alias ip6tin='sudo ip6tables --line-numbers -vnL INPUT'
alias ip6tout='sudo ip6tables --line-numbers -vnL OUTPUT'
alias ip6tfw='sudo ip6tables --line-numbers -vnL FORWARD'
alias ip6tnat='sudo ip6tables -t nat --line-numbers -vnL'

alias 4routes='route -A inet -e -n'
alias 4nroutes='route -A inet -e'
alias 4iproutes='ip -4 route show'
alias 6routes='route -A inet6 -e -n'
alias 6nroutes='route -A inet6 -e'
alias 6iproutes='ip -6 route show'

## pass options to free ##
alias meminfo='free -mlt'
## get top process eating memory
alias psmem='ps auxf | sort -nrk 4'
alias psmem10='ps auxf | sort -nrk 4 | head -10'
## get top process eating cpu ##
alias pscpu='ps auxf | sort -nrk 3'
alias pscpu10='ps auxf | sort -nrk 3 | head -10'
## older system use /proc/cpuinfo ##
alias cpuinfo='less /proc/cpuinfo'

alias c='colordiff -uwB'
## install colordiff package :)
alias vcdiff='colordiff -swBW 150'
alias hcdiff='colordiff -swByW 150'
alias bvcdiff='colordiff -swBW 150 --suppress-blank-empty'
alias bhcdiff='colordiff -swByW 150 --suppress-blank-empty'
alias svcdiff='colordiff -swBW 150 --suppress-blank-empty --suppress-common-lines'
alias shcdiff='colordiff -swByW 150 --suppress-blank-empty --suppress-common-lines'
alias zswap='printf "\n\033[32m%s \033[31m%s\033[0m\n\n" "ZSWAP Enabled:" "$(grep --color=always "[YN]" /sys/module/zswap/parameters/enabled)" && sudo grep -R . /sys/module/zswap/parameters && echo && sudo grep -R . /sys/kernel/debug/zswap && echo'
alias tzswap='sudo su -c "(sed 'y/NY/YN/' /sys/module/zswap/parameters/enabled >|/sys/module/zswap/parameters/enabled && cat /sys/module/zswap/parameters/enabled)"'
alias slog='git log --show-signature'
alias scommit='git commit -S'
alias nmixxx='sudo renice -n -20 -p $(pgrep mixxx|paste -sd" ") && sudo ionice -c 1 -n 0 -p $(pgrep mixxx|paste -sd" ")'
#alias nmixxx="mixxx >/dev/null 2>&1 & renice -n -20 -p $! && disown"
alias kpulse='systemctl --user stop pulseaudio.socket && pulseaudio --kill || pulseaudio --kill'
alias archchroot='sudo mount --rbind /sys /mnt/gentoo/sys/; sudo mount --make-rslave /mnt/gentoo/sys/; sudo mount --rbind /dev /mnt/gentoo/dev/; sudo mount --make-rslave /mnt/gentoo/dev/; sudo mount -t tmpfs tmpfs /mnt/gentoo/tmp/; sudo mount -t proc proc /mnt/gentoo/proc/; sudo chroot'
alias ws='web_search_custom'
alias aw='BROWSER=chromium arch-wiki'

alias sefi="sed 's@/boot/@EFI/arch/@g' /boot/refind_linux.conf | sudo tee /boot/efi/EFI/arch/refind_linux.conf"
alias tma='tmux attach'
alias wm='wemux'
alias cp='cp --reflink=auto'
#alias pix="curl -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.89 Safari/537.36' --progress-bar -n -F'f:1=<-' ix.io"
alias pix="curl --progress-bar -n -F'f:1=<-' ix.io"
alias tbin='nc termbin.com 9999'

alias p-scan='nmap -sV -A'
alias pkgsize='expac -s "%-30n %m" | sort -hk 2 | awk '\''{printf "%s %.0f MiB\n", $1, $2/1024/1024}'\'' | column -t'
alias fdf='echo && free -ltwh && echo && df -Th'
#alias space='echo && free -ltwh && echo && df -Th'
#alias dirlinks='find "${PWD}" -maxdepth 1 -type l -exec ls -al --color=always {} +'
alias sdwim='antigen-bundle oknowton/zsh-dwim'
alias ptpb='curl --progress-bar -F"c=@-" https://ptpb.pw/?u=1'
alias aptpb="curl --progress-bar -F'c=@-' https://ptpb.pw/?u=1 | sed 's:ptpb\.pw/:alyp.tk/pb/:g'"
alias pb='perlbrew'
alias kindle='kindlegen -c0 -verbose'
alias icast='sudo icecast -b -c /etc/icecast.xml'
# alias gv='gvim -p'
alias e='vim'
alias ep='vim -p'
alias er='vim --remote'
alias erp='vim -p --remote-tab'
alias gv='gvim'
alias gvp='gvim -p'
alias gvr='gvim --remote'
alias gvrp='gvim -p --remote-tab'
alias lgr='rsync -avzP --info=progress2 --delete /media/shared/Music/djzomg/ /media/microSDXC/Music/djzomg/'
alias pcr='rsync -avzP --info=progress2 /media/microSDXC/Music/djzomg/ /media/shared/Music/djzomg/'
alias entropy='watch -n .1 cat /proc/sys/kernel/random/entropy_avail'
alias drun='dmenu_run -fn terminus -i -sf "#ffffff" -sb "#1D1F21" -nf "#888888" -nb "#1D1F21"'
alias dfrun='dmenu_run -fn terminus -z -sf "#ffffff" -sb "#1D1F21" -nf "#888888" -nb "#1D1F21"'
alias derun='dmenu_extended_run'
alias pill='sudo powerpill'
alias bill='sudo bauerbill'

alias findfd="ls -lAhqiQFs1 --color=always /proc/$$/fd | awk '{ print $10 }'"
alias sudo='sudo '
alias _='sudo '
alias scodes='sudo showkey --scancodes'
alias c-du='cdu -isdLh'
alias dh='dirs -v'
alias kd='kdesu'
alias ks='kdesudo'
alias sk='kdesudo kate'
alias ltool='libtool --finish /usr/lib'
alias ipc='pacaur -Si'
alias qipc='pacman -Qi'
# alias qpc='pacaur -Ql'
alias dpc='pacaur -Syu --devel'
alias rpc='pacaur -R'
alias rcpc='pacaur -Rc'
alias spc='pacaur -S'
alias npc='pacaur -Syu --noconfirm'
alias upc='sudo pacman -Syu'
alias sspc='pacaur --color=always -Ss'
alias qspc='pacaur --color=always -Qs'
# alias sspc='> >(less -BFJKRMXs) pacaur -Ss --color=always'
alias sco='cower --color=always -s'
alias pa='pacaur'
alias pm='sudo pacman'
alias co='cower'
alias upc='sudo pacman -U'
alias gpc='sudo apacman -G'
#alias npac='pacaur --noconfirm --noedit -S'
alias iapac='apacman --skipinteg -S'
alias para='parallel'
alias r-s='rsync -avzP --info=progress2 --partial'
alias ping6='ping -6c 5'

alias cmount='mount | column -t'
alias jo='jobs -l'
alias path='echo -e ${PATH//:/\\n}'
alias now="date +'%a %d %b %I:%M:%S%P %Z %Y-%m-%d'"
alias dnow='date +"%Y-%m-%d"'
alias svi='vi "+set si"'
alias fi-btrfs='sudo btrfs filesystem show'
alias us-btrfs='sudo btrfs filesystem usage -T /'
alias df-btrfs='sudo btrfs filesystem df -h /'
alias sb-btrfs='sudo btrfs scrub start -B -R /'
alias ss-btrfs='sudo btrfs scrub status -R /'
alias bl-btrfs='sudo btrfs balance start -v /'
alias bs-btrfs='sudo btrfs balance status -v /'
alias sn-btrfs='sudo btrfs subvolume snapshot'
alias ls-btrfs='sudo btrfs subvolume list .'
alias ds-btrfs='sudo btrfs subvolume delete /btrfs/__snapshot/*'
alias dg-btrfs='sudo btrfs filesystem defragment -v -r -clzo /'

alias lfd='ls -lAhqiQFs1 --color=auto /proc/$$/fd'
alias sgcc='gcc -O2 -S -c'
alias show-sgcc='gcc -c -g -Wa,-a,-ad'
alias nostdgcc='gcc -m32 -nostdlib -Wl,-melf_x86_64 -o'
alias asgcc='gcc -m32 -nostdlib -o helloworld helloworld.o -Wl,-melf_x86_64'
alias na='nasm -f elf64'
alias na32='nasm -f elf'
alias nld='ld -m elf_x86_64'
alias nld32='ld -m elf_i386'
alias elfld='ld -s -I/lib64/ld-linux-x86-64.so.2 /usr/lib/crt1.o /usr/lib/crti.o -lc /usr/lib/crtn.o'
