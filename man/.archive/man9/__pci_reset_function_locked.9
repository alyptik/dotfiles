'\" t
.\"     Title: __pci_reset_function_locked
.\"    Author: [FIXME: author] [see http://docbook.sf.net/el/author]
.\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
.\"      Date: January 2017
.\"    Manual: Hardware Interfaces
.\"    Source: Kernel Hackers Manual 4.10.0-rc1
.\"  Language: English
.\"
.TH "__PCI_RESET_FUNCTION" "9" "January 2017" "Kernel Hackers Manual 4\&.10\&" "Hardware Interfaces"
.\" -----------------------------------------------------------------
.\" * Define some portability stuff
.\" -----------------------------------------------------------------
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.\" http://bugs.debian.org/507673
.\" http://lists.gnu.org/archive/html/groff/2009-02/msg00013.html
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\" -----------------------------------------------------------------
.\" * set default formatting
.\" -----------------------------------------------------------------
.\" disable hyphenation
.nh
.\" disable justification (adjust text to left margin only)
.ad l
.\" -----------------------------------------------------------------
.\" * MAIN CONTENT STARTS HERE *
.\" -----------------------------------------------------------------
.SH "NAME"
__pci_reset_function_locked \- reset a PCI device function while holding the \fIdev\fR mutex lock\&.
.SH "SYNOPSIS"
.HP \w'int\ __pci_reset_function_locked('u
.BI "int __pci_reset_function_locked(struct\ pci_dev\ *\ " "dev" ");"
.SH "ARGUMENTS"
.PP
\fIdev\fR
.RS 4
PCI device to reset
.RE
.SH "DESCRIPTION"
.PP
Some devices allow an individual function to be reset without affecting other functions in the same device\&. The PCI device must be responsive to PCI config space in order to use this function\&.
.PP
The device function is presumed to be unused and the caller is holding the device mutex lock when this function is called\&. Resetting the device will make the contents of PCI configuration space random, so any caller of this must be prepared to reinitialise the device including MSI, bus mastering, BARs, decoding IO and memory spaces, etc\&.
.PP
Returns 0 if the device function was successfully reset or negative if the device doesn\*(Aqt support resetting a single function\&.
.SH "COPYRIGHT"
.br
